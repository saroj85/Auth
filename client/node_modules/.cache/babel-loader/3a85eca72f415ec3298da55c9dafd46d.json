{"ast":null,"code":"import _objectSpread from \"D:\\\\work\\\\Auth\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport { LOGIN_REQUEST, NEW_USER_REGISTER } from '../action/type'; // import {getState} from 'react-redux';\n\nimport store from '../store';\nimport Jwt from 'jwt-decode';\nconst iState = {\n  user: {},\n  token: \"\"\n};\nconst newState = store.getState();\nconsole.log(\"newStatte\");\nexport default function (state = iState, action) {\n  console.log(\"Auth REDUCER\", action.type);\n\n  switch (action.type) {\n    case LOGIN_REQUEST:\n      localStorage.setItem(\"token\", action.payload.token);\n      return _objectSpread({}, state, {\n        token: action.payload,\n        user: Jwt(newState.token ? newState.token.token : undefined)\n      });\n      break;\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["D:/work/Auth/client/src/reducers/authReducer.js"],"names":["LOGIN_REQUEST","NEW_USER_REGISTER","store","Jwt","iState","user","token","newState","getState","console","log","state","action","type","localStorage","setItem","payload","undefined"],"mappings":";AAAA,SAASA,aAAT,EAAwBC,iBAAxB,QAAiD,gBAAjD,C,CACA;;AACA,OAAOC,KAAP,MAAkB,UAAlB;AAEA,OAAOC,GAAP,MAAgB,YAAhB;AAEA,MAAMC,MAAM,GAAG;AACXC,EAAAA,IAAI,EAAE,EADK;AAEXC,EAAAA,KAAK,EAAE;AAFI,CAAf;AAMA,MAAMC,QAAQ,GAAGL,KAAK,CAACM,QAAN,EAAjB;AACAC,OAAO,CAACC,GAAR,CAAY,WAAZ;AAEA,eAAe,UAAUC,KAAK,GAAGP,MAAlB,EAA0BQ,MAA1B,EAAkC;AAC7CH,EAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BE,MAAM,CAACC,IAAnC;;AACA,UAAQD,MAAM,CAACC,IAAf;AACI,SAAKb,aAAL;AACGc,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BH,MAAM,CAACI,OAAP,CAAeV,KAA7C;AACC,+BACOK,KADP;AAEIL,QAAAA,KAAK,EAAEM,MAAM,CAACI,OAFlB;AAGIX,QAAAA,IAAI,EAAEF,GAAG,CAACI,QAAQ,CAACD,KAAT,GAAiBC,QAAQ,CAACD,KAAT,CAAeA,KAAhC,GAAwCW,SAAzC;AAHb;AAKA;;AAEJ;AACI,aAAON,KAAP;AAXR;AAaH","sourcesContent":["import { LOGIN_REQUEST, NEW_USER_REGISTER } from '../action/type';\r\n// import {getState} from 'react-redux';\r\nimport store from '../store';\r\n\r\nimport Jwt from 'jwt-decode';\r\n\r\nconst iState = {\r\n    user: {},\r\n    token: \"\"\r\n}\r\n\r\n\r\nconst newState = store.getState();\r\nconsole.log(\"newStatte\")\r\n\r\nexport default function (state = iState, action) {\r\n    console.log(\"Auth REDUCER\", action.type)\r\n    switch (action.type) {\r\n        case LOGIN_REQUEST:\r\n           localStorage.setItem(\"token\", action.payload.token)\r\n            return {\r\n                ...state,\r\n                token: action.payload,\r\n                user: Jwt(newState.token ? newState.token.token : undefined)   \r\n            }\r\n            break;\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}